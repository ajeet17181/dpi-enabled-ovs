<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Dpi-enabled-ovs by kspviswa</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Dpi-enabled-ovs</h1>
        <h2>Extending OVS with DPI functionalities</h2>
        <a href="https://github.com/kspviswa/dpi-enabled-ovs" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h3>
<a id="what-is-dpi" class="anchor" href="#what-is-dpi" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is DPI</h3>

<p>By definition, DPI – Deep Packet Inspection means, determining the application (Ex Youtube, Skype etc) by analyzing the Ethernet frames. Advantage of DPI is that, enterprise level decisions can be made based upon the analyzed data.  (Ex. Boost the bandwidth, Determine the application level network usage etc.)</p>

<p>It is important to understand that, DPI is not, merely a packet analysis, but it also provides capabilities for network steering upon the data it receives from the network. Though the traffic analysis can be made centralized in the controller plane, the effective classification of packet can be done, only at the switch level.</p>

<h3>
<a id="why-dpi-in-sdn-ecosystem" class="anchor" href="#why-dpi-in-sdn-ecosystem" aria-hidden="true"><span class="octicon octicon-link"></span></a>Why DPI in SDN ecosystem</h3>

<p>If you look at the present scenario in traditional networking ecosystem, DPI is performed by highly specialized hardware with proprietary DPI techniques. This makes sense, as long as the network is made of traditional hardware oriented set ups. Industry had started to embrace the SDN ecosystem, where-in, any commodity hardware can be used to virtualize network functions (NFV). Hence DPI in specialized hardware doesn’t make sense anymore. DPI has to be even virtualized.</p>

<h3>
<a id="dpi-in-ovs" class="anchor" href="#dpi-in-ovs" aria-hidden="true"><span class="octicon octicon-link"></span></a>DPI in OVS</h3>

<p>Presently there is no DPI enabled soft switch, especially in the SDN ecosystem. The aim of this dissertation is to provide DPI functionalities as part of Open vSwitch, so that any controller can take advantage of the DPI information and leverage the DPI functionalities to upper management layers. </p>

<h3>
<a id="proof-of-concept---demo" class="anchor" href="#proof-of-concept---demo" aria-hidden="true"><span class="octicon octicon-link"></span></a>Proof Of Concept - demo</h3>

<p>The scope of PoC to get hands-on in bringing DPI framework under SDN ecosystem. In order to do this, SNORT (popular DPI engine) was integrated with OVS and end to end DPI flow was captured and tested. This proves the feasibility of project thesis that I had took for my dissertation work.</p>

<p>Below is the topology that was used to accomplish the PoC</p>

<p><img src="https://cloud.githubusercontent.com/assets/7476271/6752040/e3aef3ac-cf30-11e4-94cd-5f6f61a9ff0a.jpg" alt="topology switch"></p>

<p>Please refer <a href="https://github.com/kspviswa/dpi-enabled-ovs/wiki/Environment-Set-up">wiki</a> for setting up above topology.</p>

<h2>
<a id="end-end-flow" class="anchor" href="#end-end-flow" aria-hidden="true"><span class="octicon octicon-link"></span></a>End-End Flow</h2>

<p>Just by adding DPI along with OVS, doesn't make any sense, until there is a full end-end solution. We came up with below components, comprising of middleware and north-bound business applications to provision the OVS based on the analysis that is done on DPI data.</p>

<p><img src="https://cloud.githubusercontent.com/assets/7476271/6752049/f534f892-cf30-11e4-980a-cd9ff0d7f3cf.jpg" alt="components"></p>

<p>Following image, provides high-level traffic flow between the components.</p>

<p><img src="https://cloud.githubusercontent.com/assets/7476271/6752058/ffc20af2-cf30-11e4-91eb-8eed70d97ee9.jpg" alt="traffic-flow"></p>

<p>Below video will display the DPI+OVS in action.</p>

<p><a href="http://www.youtube.com/watch?v=g4k0e-S2n04"><img src="http://www.youtube.com/watch?v=g4k0e-S2n04/0.jpg" alt="DPI Enabled OVS"></a></p>

<h3>
<a id="ovs--libprotoident" class="anchor" href="#ovs--libprotoident" aria-hidden="true"><span class="octicon octicon-link"></span></a>OVS + Libprotoident</h3>

<p>From PoC, we inferred the following.</p>

<ul>
<li>Complete end-end DPI provisioning is possible in SDN eco-system.</li>
<li>OVS can be deployed along with DPI in gateway deployments, thereby DPI becomes completely virtualized and programmable.</li>
<li>By distributing the data providers &amp; consumers, it is easily match up the performance of switch, while doing DPI on top of normal switching.</li>
<li>Several management &amp; business applications can be built on top of middle ware, which is asynchronous to OVS, thereby leveraging the scalablity &amp; performance.</li>
</ul>

<p>However, there were also some down-side on using SNORT with MySQL</p>

<ul>
<li>
<code>SNORT</code> wants to have the interfaces to be sniffed before-hand. i.e If a port is attached to OVS dynamically (consider orchestration), then SNORT has to be restarted to listen the new interface.</li>
<li>
<code>SNORT MySQL</code> bindings are depreciated from SNORT 3+ releases. That means, if SNORT's internal schema changes in future versions, we have no control over the MySQL schema. This post serious concerns in adapting SNORT + MySQL in future SNORT versions.</li>
<li>
<code>SNORT</code> is not available as library / plugin to seamlessly integrate with OVS. It is  available as stand-alone. Though we attempted to build a library version of SNORT, the effort will not worth it, considering the above limitation.</li>
</ul>

<p>As a result, we select <code>libprotoident</code> to be successor for <code>SNORT</code> in place of DPI framework. Initial feasiblity study with <code>libprotoident</code> proves the usablity of this library both as a stand-alone tool and as API framework. For the curious, I had document steps to get started with <code>libprotoident</code> <a href="https://github.com/kspviswa/dpi-enabled-ovs/wiki/Setting-up-libprotoident">here</a>.</p>

<h3>
<a id="future-design-of-ovs--dpi" class="anchor" href="#future-design-of-ovs--dpi" aria-hidden="true"><span class="octicon octicon-link"></span></a>Future design of OVS + DPI</h3>

<p>Highly encouraged with the outcome of PoC, we came up with below design to integrate <code>libprotoident</code> with OVS.</p>

<p><img src="https://cloud.githubusercontent.com/assets/7476271/6752555/8c70d7a4-cf35-11e4-8720-d387df444682.jpg" alt="design"></p>

<p>Development is in progress and this page will be updated as and when some considerable amount of progress is being made.</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/kspviswa/dpi-enabled-ovs/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/kspviswa/dpi-enabled-ovs/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/kspviswa/dpi-enabled-ovs"></a> is maintained by <a href="https://github.com/kspviswa">kspviswa</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
