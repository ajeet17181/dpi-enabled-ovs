{"name":"Dpi-enabled-ovs","tagline":"Extending OVS with DPI functionalities","body":"### What is DPI\r\nBy definition, DPI – Deep Packet Inspection means, determining the application (Ex Youtube, Skype etc) by analyzing the Ethernet frames. Advantage of DPI is that, enterprise level decisions can be made based upon the analyzed data.  (Ex. Boost the bandwidth, Determine the application level network usage etc.)\r\n\r\nIt is important to understand that, DPI is not, merely a packet analysis, but it also provides capabilities for network steering upon the data it receives from the network. Though the traffic analysis can be made centralized in the controller plane, the effective classification of packet can be done, only at the switch level.\r\n\r\n### Why DPI in SDN ecosystem\r\nIf you look at the present scenario in traditional networking ecosystem, DPI is performed by highly specialized hardware with proprietary DPI techniques. This makes sense, as long as the network is made of traditional hardware oriented set ups. Industry had started to embrace the SDN ecosystem, where-in, any commodity hardware can be used to virtualize network functions (NFV). Hence DPI in specialized hardware doesn’t make sense anymore. DPI has to be even virtualized.\r\n\r\n### DPI in OVS\r\nPresently there is no DPI enabled soft switch, especially in the SDN ecosystem. The aim of this dissertation is to provide DPI functionalities as part of Open vSwitch, so that any controller can take advantage of the DPI information and leverage the DPI functionalities to upper management layers. \r\n\r\n### Proof Of Concept - demo\r\nThe scope of PoC to get hands-on in bringing DPI framework under SDN ecosystem. In order to do this, SNORT (popular DPI engine) was integrated with OVS and end to end DPI flow was captured and tested. This proves the feasibility of project thesis that I had took for my dissertation work.\r\n\r\nBelow is the topology that was used to accomplish the PoC\r\n\r\n![topology switch](https://cloud.githubusercontent.com/assets/7476271/6752040/e3aef3ac-cf30-11e4-94cd-5f6f61a9ff0a.jpg)\r\n\r\nPlease refer [wiki](https://github.com/kspviswa/dpi-enabled-ovs/wiki/Environment-Set-up) for setting up above topology.\r\n\r\n##End-End Flow\r\nJust by adding DPI along with OVS, doesn't make any sense, until there is a full end-end solution. We came up with below components, comprising of middleware and north-bound business applications to provision the OVS based on the analysis that is done on DPI data.\r\n\r\n![components](https://cloud.githubusercontent.com/assets/7476271/6752049/f534f892-cf30-11e4-980a-cd9ff0d7f3cf.jpg)\r\n\r\nFollowing image, provides high-level traffic flow between the components.\r\n\r\n![traffic-flow](https://cloud.githubusercontent.com/assets/7476271/6752058/ffc20af2-cf30-11e4-91eb-8eed70d97ee9.jpg)\r\n\r\nBelow video will display the DPI+OVS in action.\r\n\r\n[![DPI Enabled OVS](https://cloud.githubusercontent.com/assets/7476271/6979652/56d60a2c-da04-11e4-9e19-67d98651aa9a.jpg)](http://www.youtube.com/watch?v=g4k0e-S2n04)\r\n\r\n###OVS + Libprotoident\r\n\r\nFrom PoC, we inferred the following.\r\n* Complete end-end DPI provisioning is possible in SDN eco-system.\r\n* OVS can be deployed along with DPI in gateway deployments, thereby DPI becomes completely virtualized and programmable.\r\n* By distributing the data providers & consumers, it is easily match up the performance of switch, while doing DPI on top of normal switching.\r\n* Several management & business applications can be built on top of middle ware, which is asynchronous to OVS, thereby leveraging the scalablity & performance.\r\n\r\nHowever, there were also some down-side on using SNORT with MySQL\r\n* `SNORT` wants to have the interfaces to be sniffed before-hand. i.e If a port is attached to OVS dynamically (consider orchestration), then SNORT has to be restarted to listen the new interface.\r\n* `SNORT MySQL` bindings are depreciated from SNORT 3+ releases. That means, if SNORT's internal schema changes in future versions, we have no control over the MySQL schema. This post serious concerns in adapting SNORT + MySQL in future SNORT versions.\r\n* `SNORT` is not available as library / plugin to seamlessly integrate with OVS. It is  available as stand-alone. Though we attempted to build a library version of SNORT, the effort will not worth it, considering the above limitation.\r\n\r\nAs a result, we select `libprotoident` to be successor for `SNORT` in place of DPI framework. Initial feasiblity study with `libprotoident` proves the usablity of this library both as a stand-alone tool and as API framework. For the curious, I had document steps to get started with `libprotoident` [here](https://github.com/kspviswa/dpi-enabled-ovs/wiki/Setting-up-libprotoident).\r\n\r\n### Future design of OVS + DPI\r\n\r\nHighly encouraged with the outcome of PoC, we came up with below design to integrate `libprotoident` with OVS.\r\n\r\n![design](https://cloud.githubusercontent.com/assets/7476271/6752555/8c70d7a4-cf35-11e4-8720-d387df444682.jpg)\r\n\r\nDevelopment is in progress and this page will be updated as and when some considerable amount of progress is being made.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}